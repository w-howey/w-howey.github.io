<!doctype html><html lang=en><head><title>hugo + github actions + deno deploy部署自己的博客项目 · YanHowey Wang
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="YanHowey Wang"><meta name=description content="使用 hugo+github actions +deno deploy 部署自己的博客项目 Link to heading 第一步：安装 golang 环境 Link to heading 第二步：安装 hugo Link to heading 第三步：git 新建两个仓库 Link to heading 仓库 1 名称为：xxxx.github.io xxx 为自己随便起的名称 简单就好 Link to heading 配置 pages Link to heading 进入仓库选择上方 settings 然后选择 pages 然后选择分支然后 save Link to heading 第三步：在另外一个仓库（源码仓库）action 重点： Link to heading name: deploy on: push: workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: &#34;0 0 * * *&#34; jobs: build: runs-on: ubuntu-latest #权限很重要 不然depoly没权限 permissions: id-token: write # Allows authentication with Deno Deploy."><meta name=keywords content="blog,编程,前端,后端"><meta name=twitter:card content="summary"><meta name=twitter:title content="hugo + github actions + deno deploy部署自己的博客项目"><meta name=twitter:description content="使用 hugo+github actions +deno deploy 部署自己的博客项目 Link to heading 第一步：安装 golang 环境 Link to heading 第二步：安装 hugo Link to heading 第三步：git 新建两个仓库 Link to heading 仓库 1 名称为：xxxx.github.io xxx 为自己随便起的名称 简单就好 Link to heading 配置 pages Link to heading 进入仓库选择上方 settings 然后选择 pages 然后选择分支然后 save Link to heading 第三步：在另外一个仓库（源码仓库）action 重点： Link to heading name: deploy on: push: workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: &#34;0 0 * * *&#34; jobs: build: runs-on: ubuntu-latest #权限很重要 不然depoly没权限 permissions: id-token: write # Allows authentication with Deno Deploy."><meta property="og:title" content="hugo + github actions + deno deploy部署自己的博客项目"><meta property="og:description" content="使用 hugo+github actions +deno deploy 部署自己的博客项目 Link to heading 第一步：安装 golang 环境 Link to heading 第二步：安装 hugo Link to heading 第三步：git 新建两个仓库 Link to heading 仓库 1 名称为：xxxx.github.io xxx 为自己随便起的名称 简单就好 Link to heading 配置 pages Link to heading 进入仓库选择上方 settings 然后选择 pages 然后选择分支然后 save Link to heading 第三步：在另外一个仓库（源码仓库）action 重点： Link to heading name: deploy on: push: workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: &#34;0 0 * * *&#34; jobs: build: runs-on: ubuntu-latest #权限很重要 不然depoly没权限 permissions: id-token: write # Allows authentication with Deno Deploy."><meta property="og:type" content="article"><meta property="og:url" content="https://howey.deno.dev/posts/2307262210/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-05T12:20:16+08:00"><meta property="article:modified_time" content="2023-08-05T12:20:16+08:00"><link rel=canonical href=https://howey.deno.dev/posts/2307262210/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.5adbe72fc41dcfb852215b84695288939b6b606db73238bd3ee936469572fc9c.css integrity="sha256-WtvnL8Qdz7hSIVuEaVKIk5trYG23Mji9Puk2RpVy/Jw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/pagination.min.99987a046b39799edf4b2d1ea264b64cd1a48510ca4d00e2e22a70580be89494.css integrity="sha256-mZh6BGs5eZ7fSy0eomS2TNGkhRDKTQDi4ipwWAvolJQ=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>YanHowey Wang
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/categories/>Categories</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://howey.deno.dev/posts/2307262210/>hugo + github actions + deno deploy部署自己的博客项目</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-08-05T12:20:16+08:00>August 5, 2023
</time></span><span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
One-minute read</span></div><div class=authors><i class="fa fa-user" aria-hidden=true></i>
<a href=/authors/howey/>howey</a></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i>
<a href=/categories/%E5%89%8D%E7%AB%AF/>前端</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/hugo/>hugo</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/github/>github</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/deno-deploy/>deno deploy</a></span></div></div></header><div class=post-content><h1 id=使用-hugogithub-actions-deno-deploy-部署自己的博客项目>使用 hugo+github actions +deno deploy 部署自己的博客项目
<a class=heading-link href=#%e4%bd%bf%e7%94%a8-hugogithub-actions-deno-deploy-%e9%83%a8%e7%bd%b2%e8%87%aa%e5%b7%b1%e7%9a%84%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><h2 id=第一步安装-golang-环境>第一步：安装 golang 环境
<a class=heading-link href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%ae%89%e8%a3%85-golang-%e7%8e%af%e5%a2%83><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h2 id=第二步安装-hugo>第二步：安装 hugo
<a class=heading-link href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%ae%89%e8%a3%85-hugo><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h2 id=第三步git-新建两个仓库>第三步：git 新建两个仓库
<a class=heading-link href=#%e7%ac%ac%e4%b8%89%e6%ad%a5git-%e6%96%b0%e5%bb%ba%e4%b8%a4%e4%b8%aa%e4%bb%93%e5%ba%93><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ol><li><h3 id=仓库-1-名称为xxxxgithubio-xxx-为自己随便起的名称-简单就好>仓库 1 名称为：<code>xxxx.github.io</code> xxx 为自己随便起的名称 简单就好
<a class=heading-link href=#%e4%bb%93%e5%ba%93-1-%e5%90%8d%e7%a7%b0%e4%b8%baxxxxgithubio-xxx-%e4%b8%ba%e8%87%aa%e5%b7%b1%e9%9a%8f%e4%be%bf%e8%b5%b7%e7%9a%84%e5%90%8d%e7%a7%b0-%e7%ae%80%e5%8d%95%e5%b0%b1%e5%a5%bd><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3></li><li><h3 id=配置-pages>配置 pages
<a class=heading-link href=#%e9%85%8d%e7%bd%ae-pages><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><h3 id=进入仓库选择上方-settings-然后选择-pages-然后选择分支然后-save>进入仓库选择上方 settings 然后选择 pages 然后选择分支然后 save
<a class=heading-link href=#%e8%bf%9b%e5%85%a5%e4%bb%93%e5%ba%93%e9%80%89%e6%8b%a9%e4%b8%8a%e6%96%b9-settings-%e7%84%b6%e5%90%8e%e9%80%89%e6%8b%a9-pages-%e7%84%b6%e5%90%8e%e9%80%89%e6%8b%a9%e5%88%86%e6%94%af%e7%84%b6%e5%90%8e-save><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3></li></ol><h2 id=第三步在另外一个仓库源码仓库action-重点>第三步：在另外一个仓库（源码仓库）action 重点：
<a class=heading-link href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%9c%a8%e5%8f%a6%e5%a4%96%e4%b8%80%e4%b8%aa%e4%bb%93%e5%ba%93%e6%ba%90%e7%a0%81%e4%bb%93%e5%ba%93action-%e9%87%8d%e7%82%b9><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Runs everyday at 8:00 AM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0 0 * * *&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#权限很重要 不然depoly没权限</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>permissions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>id-token</span><span class=p>:</span><span class=w> </span><span class=l>write</span><span class=w> </span><span class=c># Allows authentication with Deno Deploy.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class=l>read</span><span class=w> </span><span class=c># Allows cloning the repo.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c>#实际编译命令</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c>#将打包的public目录下面的内容发布到github pages （国内访问慢）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.HUGO_BLOG_PRIVATE }}</span><span class=w> </span><span class=c>#采用ssh方式配置的公私密钥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c>#发布到github pages 仓库</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>EXTERNAL_REPOSITORY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;w-howey/w-howey.github.io&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>cname</span><span class=p>:</span><span class=w> </span><span class=l>github.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./public&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>allow_empty_commit</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c>#将打包的public目录下面的内容发布到 Deno Deploy （在哪都可以访问）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to Deno Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>denoland/deployctl@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class=l>howey</span><span class=w> </span><span class=c># the name of the project on Deno Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entrypoint</span><span class=p>:</span><span class=w> </span><span class=l>https://deno.land/std@0.140.0/http/file_server.ts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>root</span><span class=p>:</span><span class=w> </span><span class=l>public</span><span class=w> </span><span class=c># Where the built HTML/CSS/JS files are located.</span><span class=w>
</span></span></span></code></pre></div></div><footer><section class=see-also><h3 id=see-also-in-编程系列>See also in 编程系列
<a class=heading-link href=#see-also-in-%e7%bc%96%e7%a8%8b%e7%b3%bb%e5%88%97><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><nav><ul><li><a href=/posts/2309091559/>golang获取百度查询结果并截屏封装windows程序</a></li><li><a href=/posts/2309021559/>获取百度查询结果并截屏</a></li><li><a href=/posts/2308071644/>Go开发之初始化（1）</a></li><li><a href=/posts/2308070926/>html5+css小知识（2）</a></li><li><a href=/posts/2308070957/>html5+css小知识（1）</a></li><li><a href=/posts/2308061943/>前端vue小知识</a></li></ul></nav></section></footer></article></section></div><footer class=footer><section class=container>©
2019 -
2023
YanHowey Wang
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>
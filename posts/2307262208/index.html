<!doctype html><html lang=en><head><title>HDFS介绍以及shell操作 · YanHowey Wang</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="YanHowey Wang"><meta name=description content="HDFS Link to heading @[TOC]
一、HDFS 定义 Link to heading HDFS 即（hadoop distributed file system），采用目录树来定位文件；其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色 HDFS 的使用场景：适合一次写入，多次读出的场景
二、HDFS 优缺点： Link to heading 1.优点： Link to heading 高容错性 数据自动保存多个副本。通过增加副本的形式，提高容错性 某一个副本丢失以后，可以自动回复 适合处理大数据 数据规模大的（甚至 PB），文件规模大的（上百万） 可以构建在廉价机器上，通过多副本机制，提高可靠性 2.缺点： Link to heading 不适合低延时数据访问，比如毫秒级存储 无法高效的对大量小文件进行存储（1.存储大量小文件，会占用 nameNode 大量的内存用来存储文件目录和块消息，namenode 内存总是有限的 2.小文件存储的寻址时间会超过读取时间，违反了 hdfs 的设计目的） 不支持并发写入，文件的随机修改，（1.一个文件只能有一个写，不允许多个线程同时写 2.仅支持数据的追加，不支持修改） 三、HDFS 组织架构 Link to heading client: 分别访问 NameNode 和 DataNode 以获取文件的元信息及内容。
SecondaryNamenode：辅助 namenode 用于定期合并 fsimage 和 edits，生成新的 fsimage，并推送给 Namenode，在紧急情况下 可用于恢复 namenode 部分数据"><meta name=keywords content="blog,编程,前端,后端"><meta name=twitter:card content="summary"><meta name=twitter:title content="HDFS介绍以及shell操作"><meta name=twitter:description content="HDFS Link to heading @[TOC]
一、HDFS 定义 Link to heading HDFS 即（hadoop distributed file system），采用目录树来定位文件；其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色 HDFS 的使用场景：适合一次写入，多次读出的场景
二、HDFS 优缺点： Link to heading 1.优点： Link to heading 高容错性 数据自动保存多个副本。通过增加副本的形式，提高容错性 某一个副本丢失以后，可以自动回复 适合处理大数据 数据规模大的（甚至 PB），文件规模大的（上百万） 可以构建在廉价机器上，通过多副本机制，提高可靠性 2.缺点： Link to heading 不适合低延时数据访问，比如毫秒级存储 无法高效的对大量小文件进行存储（1.存储大量小文件，会占用 nameNode 大量的内存用来存储文件目录和块消息，namenode 内存总是有限的 2.小文件存储的寻址时间会超过读取时间，违反了 hdfs 的设计目的） 不支持并发写入，文件的随机修改，（1.一个文件只能有一个写，不允许多个线程同时写 2.仅支持数据的追加，不支持修改） 三、HDFS 组织架构 Link to heading client: 分别访问 NameNode 和 DataNode 以获取文件的元信息及内容。
SecondaryNamenode：辅助 namenode 用于定期合并 fsimage 和 edits，生成新的 fsimage，并推送给 Namenode，在紧急情况下 可用于恢复 namenode 部分数据"><meta property="og:title" content="HDFS介绍以及shell操作"><meta property="og:description" content="HDFS Link to heading @[TOC]
一、HDFS 定义 Link to heading HDFS 即（hadoop distributed file system），采用目录树来定位文件；其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色 HDFS 的使用场景：适合一次写入，多次读出的场景
二、HDFS 优缺点： Link to heading 1.优点： Link to heading 高容错性 数据自动保存多个副本。通过增加副本的形式，提高容错性 某一个副本丢失以后，可以自动回复 适合处理大数据 数据规模大的（甚至 PB），文件规模大的（上百万） 可以构建在廉价机器上，通过多副本机制，提高可靠性 2.缺点： Link to heading 不适合低延时数据访问，比如毫秒级存储 无法高效的对大量小文件进行存储（1.存储大量小文件，会占用 nameNode 大量的内存用来存储文件目录和块消息，namenode 内存总是有限的 2.小文件存储的寻址时间会超过读取时间，违反了 hdfs 的设计目的） 不支持并发写入，文件的随机修改，（1.一个文件只能有一个写，不允许多个线程同时写 2.仅支持数据的追加，不支持修改） 三、HDFS 组织架构 Link to heading client: 分别访问 NameNode 和 DataNode 以获取文件的元信息及内容。
SecondaryNamenode：辅助 namenode 用于定期合并 fsimage 和 edits，生成新的 fsimage，并推送给 Namenode，在紧急情况下 可用于恢复 namenode 部分数据"><meta property="og:type" content="article"><meta property="og:url" content="https://howey.deno.dev/posts/2307262208/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-26T22:21:16+08:00"><meta property="article:modified_time" content="2023-07-26T22:21:16+08:00"><link rel=canonical href=https://howey.deno.dev/posts/2307262208/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.5adbe72fc41dcfb852215b84695288939b6b606db73238bd3ee936469572fc9c.css integrity="sha256-WtvnL8Qdz7hSIVuEaVKIk5trYG23Mji9Puk2RpVy/Jw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>YanHowey Wang</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/categories/>Categories</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://howey.deno.dev/posts/2307262208/>HDFS介绍以及shell操作</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-07-26T22:21:16+08:00>July 26, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
One-minute read</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i>
<a href=/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/>大数据</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/hadoop/>hadoop</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/hdfs/>HDFS</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/shell/>shell</a></span></div></div></header><div class=post-content><h1 id=hdfs>HDFS
<a class=heading-link href=#hdfs><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>@[TOC]</p><h2 id=一hdfs-定义>一、HDFS 定义
<a class=heading-link href=#%e4%b8%80hdfs-%e5%ae%9a%e4%b9%89><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>HDFS 即（hadoop distributed file system），采用目录树来定位文件；其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色
HDFS 的使用场景：适合一次写入，多次读出的场景</p><h2 id=二hdfs-优缺点>二、HDFS 优缺点：
<a class=heading-link href=#%e4%ba%8chdfs-%e4%bc%98%e7%bc%ba%e7%82%b9><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=1优点>1.优点：
<a class=heading-link href=#1%e4%bc%98%e7%82%b9><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ol><li>高容错性 数据自动保存多个副本。通过增加副本的形式，提高容错性 某一个副本丢失以后，可以自动回复</li><li>适合处理大数据 数据规模大的（甚至 PB），文件规模大的（上百万）</li><li>可以构建在廉价机器上，通过多副本机制，提高可靠性</li></ol><h3 id=2缺点>2.缺点：
<a class=heading-link href=#2%e7%bc%ba%e7%82%b9><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ol><li>不适合低延时数据访问，比如毫秒级存储</li><li>无法高效的对大量小文件进行存储（1.存储大量小文件，会占用 nameNode 大量的内存用来存储文件目录和块消息，namenode 内存总是有限的 2.小文件存储的寻址时间会超过读取时间，违反了 hdfs 的设计目的）</li><li>不支持并发写入，文件的随机修改，（1.一个文件只能有一个写，不允许多个线程同时写 2.仅支持数据的追加，不支持修改）</li></ol><h2 id=三hdfs-组织架构>三、HDFS 组织架构
<a class=heading-link href=#%e4%b8%89hdfs-%e7%bb%84%e7%bb%87%e6%9e%b6%e6%9e%84><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p><img src=https://img-blog.csdnimg.cn/7b0d2fd1aaf9460283577efa4c5cd1e1.png alt=在这里插入图片描述></p><p>client: 分别访问 NameNode 和 DataNode 以获取文件的元信息及内容。</p><p>SecondaryNamenode：辅助 namenode 用于定期合并 fsimage 和 edits，生成新的 fsimage，并推送给 Namenode，在紧急情况下 可用于恢复 namenode 部分数据</p><p>磁盘的传输速率决定设置块状大小
<strong>寻址时间为传输时间的 1%时，则为最佳状态</strong>
<img src=https://img-blog.csdnimg.cn/a38e24b3c5794789a7393ed57d34deef.png alt=在这里插入图片描述>
块设置太小，增加寻址时间
块设置太大，会增加磁盘传输数据</p><h2 id=四hdfs-的-shell-操作>四、HDFS 的 shell 操作
<a class=heading-link href=#%e5%9b%9bhdfs-%e7%9a%84-shell-%e6%93%8d%e4%bd%9c><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ol><li>hadoop fs 等同于 hdfs dfs</li><li>hadoop fs -help rm（查看 rm 用法）</li><li><code>hadoop fs -moveFromLocal 本地文件 hdfs文件目录</code> （将本地文件剪切到 hdfs 目录下）</li><li><code>hadoop fs -copyFromLocal 本地文件 hdfs文件目录</code> （将本地文件复制到 hdfs 目录下等同于-put）</li><li><code>hadoop fs -appendToFile 本地文件 hdfs文件</code> (将本地文件追加到 hdfs 文件末尾)</li><li><code>hadoop fs -copyToLocal hdfs文件 本地文件夹</code> (将 hdfs 文件拷贝到本地文件夹等同于-get)</li><li>-ls,-cat,-chgrp,-chmod.-chown,-mkdir,-cp,-mv,-tail,-rm,-rm -r.-du 都和 linux 命令一样</li><li><code>hadoop fs -setrep -w 2 /test</code> 修改目录副本数，只是记录在 namenode 的元数据，是否真的有这么多取决于机器的台数</li></ol></div><footer><section class=see-also><h3 id=see-also-in-编程系列>See also in 编程系列
<a class=heading-link href=#see-also-in-%e7%bc%96%e7%a8%8b%e7%b3%bb%e5%88%97><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><nav><ul><li><a href=/posts/2308061943/>前端vue小知识</a></li><li><a href=/posts/2308052141/>windows如何取消桌面图标右下角带快捷方式？</a></li><li><a href=/posts/23080521/>如何完全卸载chrome？</a></li><li><a href=/posts/230805/>如何获取快手直播弹幕？</a></li><li><a href=/posts/2307262210/>hugo + github actions + deno deploy部署自己的博客项目</a></li><li><a href=/posts/2307262202/>gin 项目初始化之mysql连接</a></li></ul></nav></section></footer></article></section></div><footer class=footer><section class=container>©
2019 -
2023
YanHowey Wang
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>
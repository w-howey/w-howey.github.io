<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Docker on YanHowey Wang</title><link>https://howey.deno.dev/tags/docker/</link><description>Recent content in Docker on YanHowey Wang</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 13 Aug 2024 23:21:16 +0800</lastBuildDate><atom:link href="https://howey.deno.dev/tags/docker/index.xml" rel="self" type="application/rss+xml"/><item><title>docker 镜像结构</title><link>https://howey.deno.dev/posts/docker-24081323/</link><pubDate>Tue, 13 Aug 2024 23:21:16 +0800</pubDate><guid>https://howey.deno.dev/posts/docker-24081323/</guid><description> 分层结构 Link to heading 每一层一个layer 例如：一个java应用 包含：
系统库 （基础镜像） jre jar 包 启动脚本 （入口） dockerfile Link to heading dockerfile 是一个docker镜像的构建文件，包含一系列指令
指令 说明 示例 form 指定基础镜像 env 设置环境变量 copy 考本本地文件到镜像指定目录 run 执行linuxshell命令 expose 暴露的端口 expose 8080 entrypoint 应用的启动命令 entrypoint java -jar app.jar 构建镜像 Link to heading docker build -t &amp;lt;image_name&amp;gt;:1.0 . # -t 给镜像取名· # . 表示当前目录 // 保存镜像
docker save -o // 加载镜像
docker load -i // 查看日志
docker log -f &amp;lt;image-name&amp;gt;</description></item><item><title>docker 数据卷挂</title><link>https://howey.deno.dev/posts/docker-240813/</link><pubDate>Tue, 13 Aug 2024 22:21:16 +0800</pubDate><guid>https://howey.deno.dev/posts/docker-240813/</guid><description> 数据卷挂载 Link to heading 将home/wwwroot/default数据卷挂载到容器/usr/share/nginx/html中 Link to heading docker run -d -p 80:80 -v home/wwwroot/default:/usr/share/nginx/html --name nginx nginx
查看挂载卷信息 Link to heading docker volume inspect /home/wwwroot/default
查看镜像的挂载卷信息 Link to heading docker inspect nginx
mysql 会自动将数据存储挂载到宿主机 是匿名卷 Link to heading 宿主机与容器的卷挂载 本地目录必须以/开头或者&amp;quot;./&amp;ldquo;开头 否则就是数据卷挂载
-v mysql:/var/lib/mysql # 数据卷 -v ./mysql:/var/lib/mysql # 本地卷 所以mysql一般挂载如下：
-v /root/mysql/data:/var/lib/mysql -v /root/mysql/init:/docker-entrypoint-initdb.d # 初始化脚本 -v /root/mysql/conf:/etc/mysql/conf.d</description></item><item><title>docker 网络</title><link>https://howey.deno.dev/posts/docker-2408132316/</link><pubDate>Tue, 13 Aug 2024 22:21:16 +0800</pubDate><guid>https://howey.deno.dev/posts/docker-2408132316/</guid><description> docker network Link to heading docker network 是 docker 的网络管理工具，可以创建、删除、列出、连接和断开容器的网络。
docker network 命令 Link to heading 命令 说明 docker network create 创建一个网络 docker network ls 列出所有网络 docker network inspect 查看网络信息 docker network connect 连接一个网络 docker network disconnect 断开一个网络 docker network rm 删除一个网络 docker network prune 删除所有未使用的网络</description></item></channel></rss>
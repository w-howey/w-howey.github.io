<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python on YanHowey Wang</title><link>https://howey.deno.dev/tags/python/</link><description>Recent content in Python on YanHowey Wang</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sat, 05 Aug 2023 21:19:01 +0800</lastBuildDate><atom:link href="https://howey.deno.dev/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>如何获取快手直播弹幕？</title><link>https://howey.deno.dev/posts/230805/</link><pubDate>Sat, 05 Aug 2023 21:19:01 +0800</pubDate><guid>https://howey.deno.dev/posts/230805/</guid><description># coding:utf-8 import requests import re import time headers = { &amp;#34;User-Agent&amp;#34;: &amp;#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1&amp;#34; } # 正则表达式列表，两个双引号内为正则表达式 re_id = &amp;#34;&amp;#34;r&amp;#39;(?&amp;lt;=liveStream&amp;#34;:{&amp;#34;id&amp;#34;:&amp;#34;)(.*?)(?=&amp;#34;,)&amp;#39;&amp;#34;&amp;#34; re_feeds = &amp;#34;&amp;#34;r&amp;#39;(?&amp;lt;=liveStreamFeeds\\\&amp;#34;:)(.*?)(?=}\&amp;#34;)&amp;#39;&amp;#34;&amp;#34; re_userName = &amp;#34;&amp;#34;r&amp;#39;(?&amp;lt;=userName\\\&amp;#34;:\\\&amp;#34;)(.*?)(?=\\\&amp;#34;,\\\&amp;#34;)&amp;#39;&amp;#34;&amp;#34; re_content = &amp;#34;&amp;#34;r&amp;#39;(?&amp;lt;=content\\\&amp;#34;:\\\&amp;#34;)(.*?)(?=\\\&amp;#34;,\\\&amp;#34;)&amp;#39;&amp;#34;&amp;#34; URL = input(&amp;#34;直播间链接：&amp;#34;) # 直播间链接标准格式：https://live.kuaishou.com/u/*** # 获取LiveStreamId r = requests.get(URL, headers=headers) LiveStreamId = re.findall(re_id, r.text) if LiveStreamId: # 弹幕地址 danmu_list = &amp;#39;http://livev.m.chenzhongtech.com/wap/live/feed?liveStreamId=&amp;#39; + LiveStreamId[0] else: print(&amp;#34;获取liveStreamID失败&amp;#34;) while LiveStreamId: i = 0 time.sleep(3) # 3秒获取一次 # 获取弹幕列表 r = requests.</description></item></channel></rss>